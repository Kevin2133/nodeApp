<link rel="stylesheet" href="css/style.css" type="text/css">
<link href="https://fonts.googleapis.com/css2?family=Josefin+Sans:ital,wght@0,100;0,200;0,300;0,400;0,500;0,600;0,700;1,100;1,200;1,300;1,400;1,500;1,600;1,700&display=swap" rel="stylesheet">

<!-- Slideshow container -->
<div class="slideshow-container">

    <!-- Full-width images with number and caption text -->    
    

    <% for(var i = 0; i < post.images.length; i++){ %>
      <%- include("./slideshow-item", {main: false, imgIndex: i}); %>
    <% } %>

  
    <!-- Next and previous buttons -->
    <a class="slideshow-prev" onclick="plusSlides(-1)">&#10094;</a>
    <a class="slideshow-next" onclick="plusSlides(1)">&#10095;</a>
  </div>
  <br>
  
  <!-- The dots/circles -->
  <div style="text-align:center">
    
    <% for(var i = 0; i < post.images.length; i++){ %>
      <span class="slideshow-dot" onclick="currentSlide(<%= i %>)"></span>
    <% } %>
  </div>

  <script>
    let slideIndex = 0;

    showSlides(slideIndex);

    function plusSlides(n){
      slideIndex += n;
      showSlides(slideIndex);
    }

    function currentSlide(n){
      slideIndex = n;
      showSlides(slideIndex);
    }


    function showSlides (index){
      const slides = document.getElementsByClassName("slideshow-img");
      const dots = document.getElementsByClassName("slideshow-dot");
      
      if(index < 0){
        index = slides.length - 1;
        slideIndex = index;
      }


      if(index > slides.length - 1){
        index = 0;
        slideIndex = index;
      }

      for(var slide of slides){
        slide.style.display = "none";        
      }

      for(var dot of dots){
        dot.classList.remove("active");
      }

      slides[index].style.display = "block";
      dots[index].classList.add("active");
    }
  </script>